<!-- Profile Page Component - Matches sketch layout -->
<div class="container max-w-4xl px-4 py-8 mx-auto">
  <!-- Loading State -->
  <div id="loading" class="text-center">
    <div
      class="inline-block w-8 h-8 border-2 border-white rounded-full animate-spin border-t-transparent"
    ></div>
    <p class="mt-2 text-gray-400">Loading profile...</p>
  </div>

  <!-- Error State -->
  <div id="error" class="hidden text-center">
    <div
      class="max-w-md p-6 mx-auto bg-red-900 border border-red-700 rounded-lg"
    >
      <h2 class="mb-2 text-xl font-bold text-red-200">‚ùå Profile Error</h2>
      <p id="error-message" class="mb-4 text-red-300">Failed to load profile</p>
      <button
        onclick="refreshProfile()"
        class="px-4 py-2 text-white transition-colors bg-red-700 rounded hover:bg-red-600"
      >
        Retry
      </button>
    </div>
  </div>

  <!-- Profile Content -->
  <div id="profile-content" class="hidden">
    <!-- Banner Section -->
    <div class="relative mb-20 overflow-visible bg-gray-800 rounded-xl">
      <!-- Banner placeholder/background -->
      <div
        class="flex items-center justify-center h-48 rounded-md bg-gradient-to-r from-purple-600 to-blue-600"
      ></div>

      <!-- Banner image (hidden by default) -->
      <div id="profile-banner" class="absolute inset-0 hidden">
        <img
          id="profile-banner-img"
          class="object-cover w-full h-48 rounded-md"
          alt="Profile Banner"
        />
      </div>

      <!-- Profile Picture Overlay (centered on bottom edge of banner) -->
      <div class="absolute transform -translate-x-1/2 left-1/2 -bottom-16">
        <div class="relative">
          <!-- Picture placeholder - rounded square -->
          <div
            id="profile-avatar-placeholder"
            class="flex items-center justify-center w-32 h-32 bg-gray-600 border-2 border-gray-400 rounded-lg shadow-lg"
          ></div>
          <!-- Actual picture - rounded square -->
          <img
            id="profile-avatar-img"
            class="hidden object-cover w-32 h-32 border-2 border-gray-400 rounded-lg shadow-lg"
            alt="Profile Picture"
          />
        </div>
      </div>
    </div>

    <!-- Profile Info Section (starts below banner with space for visible profile pic) -->
    <div class="text-center">
      <!-- Display Name -->
      <h1 id="profile-name" class="mb-2 text-3xl font-bold text-white">
        display_name
      </h1>

      <!-- Display name alternate (if different from name) -->
      <div
        id="profile-display-name"
        class="hidden mb-2 text-xl text-gray-300"
      ></div>

      <!-- NPub with copy button -->
      <div class="flex items-center justify-center gap-2 mb-6">
        <span id="profile-identifier" class="font-mono text-sm text-gray-400"
          >npubxxx...</span
        >
        <button
          onclick="copyIdentifier()"
          class="text-gray-400 transition-colors hover:text-white"
          title="Copy npub"
        >
          üìã
        </button>
      </div>

      <!-- About Section -->
      <div class="max-w-2xl mx-auto mb-4">
        <div class="p-6 bg-gray-800 rounded-lg">
          <p id="profile-about" class="leading-relaxed text-gray-300">
            Loading bio...
          </p>
        </div>
      </div>

      <!-- Contact Information Grid -->
      <div class="grid grid-cols-1 gap-4 mb-8 md:grid-cols-3">
        <!-- NIP-05 Address -->
        <div
          id="profile-nip05-container"
          class="hidden p-4 bg-gray-800 rounded-lg"
        >
          <h4 class="mb-2 text-sm font-medium text-gray-400">nip-05</h4>
          <p id="profile-nip05" class="text-purple-400 break-all">-</p>
        </div>

        <!-- Lightning Address -->
        <div
          id="profile-lightning-container"
          class="hidden p-4 bg-gray-800 rounded-lg"
        >
          <h4 class="mb-2 text-sm font-medium text-gray-400">‚ö°</h4>
          <p id="profile-lightning" class="text-yellow-400 break-all">-</p>
        </div>

        <!-- Website -->
        <div
          id="profile-website-container"
          class="hidden p-4 bg-gray-800 rounded-lg"
        >
          <h4 class="mb-2 text-sm font-medium text-gray-400">üåê</h4>
          <a
            id="profile-website"
            href="#"
            target="_blank"
            class="text-blue-400 break-all hover:text-blue-300"
            >-</a
          >
        </div>
      </div>
      <!-- Social Links Row (dynamically populated) -->
      <div class="flex justify-center gap-6 mb-8" id="social-links-container">
        <!-- External identity links will be added here dynamically -->
      </div>
      <!-- Debug Info (hidden elements for working JS) -->
      <div class="hidden">
        <span id="profile-pubkey"></span>
      </div>

      <!-- View Event JSON Button -->
      <div class="text-center">
        <button
          onclick="refreshProfile()"
          class="px-6 py-3 text-white transition-colors bg-gray-700 rounded-lg hover:bg-gray-600"
        >
          view event json
        </button>
      </div>
    </div>
  </div>
</div>
<script src="/static/js/profile-page.js"></script>
